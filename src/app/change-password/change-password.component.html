<!-- change-password.component.html -->
<div class="change-password-container">
    <div class="form-container">
        <h2>Change Password</h2>
        <p>Must be 6-20 characters (Letters, Numbers, or Symbols)</p>

        <form #passwordForm="ngForm" (ngSubmit)="onSubmit(passwordForm)">
            <!-- New Password Field -->
            <div class="form-group">
                <label for="newPassword">New Password</label>
                <div class="password-input-container">
                    <input
                            #newPasswordField="ngModel"
                            [(ngModel)]="newPassword"
                            [type]="showNewPassword ? 'text' : 'password'"
                            id="newPassword"
                            maxlength="20"
                            minlength="6"
                            name="newPassword"
                            required
                    />
                    <span
                            (click)="toggleNewPasswordVisibility()"
                            class="password-toggle-icon"
                    >
            <i *ngIf="!showNewPassword" class="fa fa-eye"></i>
            <i *ngIf="showNewPassword" class="fa fa-eye-slash"></i>
          </span>
                </div>
                <p *ngIf="newPasswordField.errors?.['required'] && newPasswordField.touched" class="error">
                    New password is required.
                </p>
                <p *ngIf="newPasswordField.errors?.['minlength'] && newPasswordField.touched" class="error">
                    Password must be at least 6 characters.
                </p>
                <p *ngIf="newPasswordField.errors?.['maxlength'] && newPasswordField.touched" class="error">
                    Password cannot exceed 20 characters.
                </p>
            </div>

            <!-- Confirm Password Field -->
            <div class="form-group">
                <label for="confirmPassword">Confirm Password</label>
                <div class="password-input-container">
                    <input
                            #confirmPasswordField="ngModel"
                            [(ngModel)]="confirmPassword"
                            [type]="showConfirmPassword ? 'text' : 'password'"
                            id="confirmPassword"
                            maxlength="20"
                            minlength="6"
                            name="confirmPassword"
                            required
                    />
                    <span
                            (click)="toggleConfirmPasswordVisibility()"
                            class="password-toggle-icon"
                    >
            <i *ngIf="!showConfirmPassword" class="fa fa-eye"></i>
            <i *ngIf="showConfirmPassword" class="fa fa-eye-slash"></i>
          </span>
                </div>
                <p *ngIf="confirmPasswordField.errors?.['required'] && confirmPasswordField.touched" class="error">
                    Confirm password is required.
                </p>
                <p *ngIf="confirmPasswordField.errors?.['minlength'] && confirmPasswordField.touched" class="error">
                    Password must be at least 6 characters.
                </p>
                <p *ngIf="confirmPasswordField.errors?.['maxlength'] && confirmPasswordField.touched" class="error">
                    Password cannot exceed 20 characters.
                </p>
            </div>

            <!-- Password Mismatch Error -->
            <p *ngIf="passwordMismatch" class="error">
                Passwords do not match.
            </p>

            <!-- Submit Button -->
            <button [disabled]="passwordForm.invalid || passwordMismatch" class="update-button" type="submit">
                Update Password
            </button>
        </form>

        <p class="disclaimer">
            By continuing, you confirm that you're an adult and you've read and accepted our
            GrabNGo Free Membership Agreement and Privacy Policy.
        </p>
    </div>
</div>